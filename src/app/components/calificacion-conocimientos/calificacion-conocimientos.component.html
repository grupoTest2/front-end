<div class="form-group">
  <div class="d-flex justify-content-between align-items-end">
    <label for="requisitos">6.- Calificación de conocimientos</label>
    <button *ngIf="!rutaActual()" class="btn btn-outline-info" type="button" data-toggle="modal"
      data-target="#modalConocimientoAuxD">
      <i class="fa fa-plus"></i> Añadir
    </button>
    <button *ngIf="rutaActual()" class="btn btn-outline-info" type="button" data-toggle="modal"
      data-target="#modalConocimientoAuxL2" [disabled]="listaItems.length == 0" (click)="resetForm()">
      <i class="fa fa-plus"></i> Añadir
    </button>
  </div>
  <div *ngIf="!rutaActual()" class="mt-3 table-responsive">
    <table class="table align-middle table-hover table-bordered">
      <thead class="thead-dark">
        <tr>
          <th class="text-center" scope="col">Detalle calificacion</th>
          <th class="text-center" scope="col">Porcentaje(%)</th>
          <th class="text-center" scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let calificacion of listaCalificacion; index as i">
          <td scope="row">{{getindice(i)}} {{calificacion.getDescripcion()}}</td>
          <td class="text-center">{{calificacion.getPorcentaje()}}</td>
          <td class="text-right">
            <div class="btn btn-group" role="group">
              <button class="btn btn-outline-success mr-1" type="button">
                <i class="fa fa-pencil"></i>
              </button>
              <button class="btn btn-outline-danger" type="button">
                <i class="fa fa-trash-alt"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- prueba-->
  <div *ngIf="rutaActual()" class="mt-3 table-responsive">
    <table class="table align-middle table-hover table-bordered">
      <thead class="thead-dark">
        <tr>
          <th class="text-center" scope="col">Tematica</th>
          <th *ngFor="let requerimiento of listaItems; index as i" class="text-center" scope="col">
            {{requerimiento.getCodigoAuxiliatura()}}</th>
          <th class="text-center" scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tematica of listaTematicas; index as i">
          <td scope="row">{{tematica}}</td>
          <td class="text-center" *ngFor="let calificacion of listaItems; index as j">
            {{calificacion.getListaTematica()[i].getNota()}}</td>
          <td class="text-right">
            <div class="btn btn-group" role="group">
              <button class="btn btn-outline-success mr-1" type="button">
                <i class="fa fa-pencil"></i>
              </button>
              <button class="btn btn-outline-danger" type="button">
                <i class="fa fa-trash-alt"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Modal para agregar calificacion conocimientos auxiliar docencia-->
<div class="modal fade" id="modalConocimientoAuxD" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="">Nueva Calficacion</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="modalMeritos">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Detalle calificacion:</label>
            <textarea type="text" class="form-control" rows="3" id="descripcionCalificacion"></textarea>
          </div>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Porcentaje:</label>
            <input type="number" min=1 class="form-control" id="porcentajeCalificacion">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="guardar" data-dismiss="modal"
          (click)="agregarCalificacion()">Guardar</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="modalConocimientoAuxL2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="">Nueva Calficacion</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="modalMeritos">
        <form [formGroup]="formCalificacion" (ngSubmit)="save($event)" novalidate autocomplete="off">
          <div class="form-group">
            <div class="form-group">
              <label for="recipient-name" class="col-form-label">Nombre de la tematica:</label>
              <input [class.is-invalid]="detalleIsInvalid" [class.is-valid]="detalleIsValid" formControlName="detalle"
                type="text" min=1 class="form-control" id="nombreTematica">
              <div *ngIf="detalleIsInvalid">
                <small class="text-danger" *ngIf="detalle.hasError('required')">
                  Llene el campo por favor <small class="fal fa-exclamation-triangle"></small>
                </small>
                <small class="text-danger" *ngIf="detalle.hasError('minlength')">
                  Texto demasiado corto <small class="fal fa-exclamation-triangle"></small>
                </small>
                <small class="text-danger" *ngIf="detalle.hasError('pattern')">
                  Solo se permiten letras <small class="fal fa-exclamation-triangle"></small>
                </small>
              </div>
            </div>
            <div *ngFor="let codigo of listaItems; index as i" class="form-group">
              <label *ngIf="codigo.getNotaDisponible() > 0" for="recipient-name"
                class="col-form-label">{{codigo.getCodigoAuxiliatura()}} <small class="text-danger">(*)</small> </label>
              <input *ngIf="codigo.getNotaDisponible() > 0" type="text" class="form-control" id="{{codigo.getnombreMateria()}}"
                [class.is-invalid]="notaIsInvalid" formControlName="nota">
              <div *ngIf="notaIsInvalid">
                <small class="text-danger" *ngIf="nota.hasError('min')">
                  Asigne una nota valida por favor <small class="fal fa-exclamation-triangle"></small>
                </small>
                <small class="text-danger" *ngIf="nota.hasError('pattern') && !nota.hasError('min')">
                  Dato invalido <small class="fal fa-exclamation-triangle"></small>
                </small>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary" id="guardar" (click)="formValido()">Guardar</button><!---->
        </div>
      </div>
    </div>
  </div>
